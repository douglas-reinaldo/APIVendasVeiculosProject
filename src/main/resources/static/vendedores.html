<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestão de Vendedores</title>
    <meta name="description" content="Plataforma moderna para gerenciamento de vendedores e veículos" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tema CSS -->
    <link rel="stylesheet" href="styles/theme.css">
</head>
<body>
<!-- Header -->
<header>
    <div style="max-width: 1280px; margin: 0 auto; padding: 1.5rem;">
        <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
            <div style="display: flex; align-items: center; gap: 0.75rem;">
                <div class="avatar shadow-elegant">
                    <i data-lucide="users" style="width: 1.5rem; height: 1.5rem;"></i>
                </div>
                <div>
                    <h1 class="gradient-text" style="font-size: 1.875rem; font-weight: 700; margin: 0;">
                        Gestão de Vendedores
                    </h1>
                    <p style="color: hsl(var(--color-muted-foreground)); font-size: 0.875rem; margin: 0;">
                        Gerencie sua equipe de vendas
                    </p>
                </div>
            </div>

            <div style="display: flex; gap: 0.75rem;">
                <button class="btn btn-outline" onclick="window.location.href='vendas.html'">
                    <i data-lucide="receipt" style="width: 1rem; height: 1rem;"></i>
                    Histórico de Vendas
                </button>
                <button class="btn btn-primary" onclick="openModal()">
                    <i data-lucide="plus" style="width: 1rem; height: 1rem;"></i>
                    Novo Vendedor
                </button>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<main style="max-width: 1280px; margin: 0 auto; padding: 2rem;">
    <!-- Loading State -->
    <div id="loading" style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 5rem 1rem;">
        <div class="spinner"></div>
        <p style="margin-top: 1rem; color: hsl(var(--color-muted-foreground));">Carregando vendedores...</p>
    </div>

    <!-- Empty State -->
    <div id="emptyState" style="display: none;">
        <div class="empty-state animate-slide-up">
            <div class="empty-icon">
                <i data-lucide="alert-triangle" style="width: 2.5rem; height: 2.5rem;"></i>
            </div>
            <h3 style="font-size: 1.25rem; margin-bottom: 0.5rem;">Nenhum vendedor cadastrado</h3>
            <p style="color: hsl(var(--color-muted-foreground)); margin-bottom: 1.5rem;">
                Comece cadastrando seu primeiro vendedor
            </p>
            <button class="btn btn-primary" onclick="openModal()">
                <i data-lucide="plus" style="width: 1rem; height: 1rem;"></i>
                Cadastrar Vendedor
            </button>
        </div>
    </div>

    <!-- Error State -->
    <div id="errorState" style="display: none;">
        <div class="alert alert-danger">
            <i data-lucide="x-circle" style="width: 1.25rem; height: 1.25rem;"></i>
            <span>Erro ao carregar vendedores. Verifique se a API está rodando em <strong>localhost:8080</strong>.</span>
        </div>
    </div>

    <!-- Vendedores Grid -->
    <div id="vendedoresContainer" class="grid"></div>
</main>

<!-- Modal -->
<div id="modal" class="modal">
    <div class="modal-content">
        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem;">
            <div>
                <h2 id="modalTitle" style="font-size: 1.5rem; margin-bottom: 0.25rem;">Cadastrar Novo Vendedor</h2>
                <p id="modalDescription" style="color: hsl(var(--color-muted-foreground)); font-size: 0.875rem; margin: 0;">
                    Preencha os dados para cadastrar um novo vendedor.
                </p>
            </div>
            <button class="btn-icon" onclick="closeModal()">
                <i data-lucide="x" style="width: 1.25rem; height: 1.25rem;"></i>
            </button>
        </div>

        <form id="formVendedor" onsubmit="handleSubmit(event)">
            <input type="hidden" id="vendedorId">

            <div style="margin-bottom: 1rem;">
                <label for="nome" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Nome *</label>
                <input type="text" id="nome" class="input" placeholder="Digite o nome completo" required>
            </div>

            <div style="margin-bottom: 1rem;">
                <label for="email" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email *</label>
                <input type="email" id="email" class="input" placeholder="email@exemplo.com" required>
            </div>

            <div style="margin-bottom: 1.5rem;">
                <label for="telefone" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Telefone (Opcional)</label>
                <input type="text" id="telefone" class="input" placeholder="(11) 98888-7777">
            </div>

            <div id="feedback" style="margin-bottom: 1rem;"></div>

            <div style="display: flex; gap: 0.75rem;">
                <button type="button" class="btn btn-outline" onclick="closeModal()" style="flex: 1;">
                    Cancelar
                </button>
                <button type="submit" class="btn btn-primary" id="submitBtn" style="flex: 1;">
                    <span id="submitText">Cadastrar</span>
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Utilitários e Lógica -->
<script src="scripts/utils.js"></script>
<script src="scripts/vendedores.js"></script>
</body>
</html>
